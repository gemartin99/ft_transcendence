<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>CRAZY PONG</title>
	<!-- <link rel="stylesheet" href="/css/styles.css"> -->
	<link rel="stylesheet" href="/css/gstyles.css">
	<link rel="stylesheet" href="/css/gstyles2.css">
	<link rel="stylesheet" href="/css/game.css">
	<link rel="stylesheet" href="/css/login.css">
	<link rel="stylesheet" href="/css/aboutus.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
	<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" ">
	<!-- Bootstrap CSS Link -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
	<style>
        /* Dropdown styles */
        .dropdown {
            position: relative;
            display: inline-block;
            padding: 10px;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #343a40;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            border-radius: 4px;
        }

        .dropdown-content a {
            color: white;
            padding: 8px 16px;
            text-decoration: none;
            display: block;
        }

		.dropdown-content a:active,
    	.dropdown-content a:focus {
        color: white;
            padding: 8px 16px;
            text-decoration: none;
            display: block;
    }

        .dropdown-content a img {
            max-width: 20px;
            margin-right: 10px;
            vertical-align: middle;
        }

        .dropdown-content a:hover {
            background-color: #454d55;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }
		.video-container {
        position: relative;
        width: 100%;
        height: 90vh;
        overflow: hidden;
      }
  
      video {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        min-width: 100%;
        min-height: 100%;
        width: auto;
        height: auto;
        z-index: -1;
      }
  
      .title {
      font-family: 'Roboto', sans-serif;
      color: #f5c344;
      font-size: 3rem;
      text-align: center;
      margin-bottom: 20px;
    }
  
      .options {
      display: flex;
      gap: 20px;
      justify-content: center;
      margin-bottom: 20px;
      font-size: 26px;
    }
  
      .options a {
        text-decoration: none;
        color: white;
        padding: 10px 20px;
        border: 1px solid #f5c344;
        border-radius: 5px;
        transition: all 0.3s ease;
      }
  
      .options a:hover {
        background-color: #f5c344;
        color: black;
      }

      .text-below {
      text-align: center;
      max-width: 500px;
      margin: 0 auto;
      color: #212529;
    }
    </style>
</head>

<body class="bg-secondary">
	<!-- HEADER -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<div class="container-fluid">
			<!-- icono y nombre -->
			<a class="navlink navbar-brand" href="/">
				<i class="fa-solid fa-table-tennis-paddle-ball" style="color: #f5c344;"></i>
				<span class="text-warning">CrazyPong</span>
			</a>  
			<!-- boton del menu -->
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#menu" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<!-- elementos del menu colapsable -->
			<div class="collapse navbar-collapse" id="menu">
				<ul class="navbar-nav me-auto">
					<li class="nav-item"><a class="navlink nav-link active" aria-current="page" href="/">Home</a></li>
					<li class="nav-item"><a class="navlink li nav-link" href="/game" onclick="reconnect()">Game</a></li>
					<li class="nav-item"><a class="navlink li nav-link" href="/tournament">Tournament</a></li>
					<li class="nav-item"><a class="navlink li nav-link" href="/friends">Friends</a></li>
					<li class="nav-item"><a class="navlink nav-link" href="/information">Information</a></li>
					<li class="nav-item"><a class="navlink nav-link" href="/about-us" onclick="aboutUs()">About us</a></li>
				</ul>
				<hr class="d-md-none text-white-50">
				<!-- enlaces redes sociales -->
				<ul class="navbar-nav  flex-row flex-wrap text-light">
					<li class="nav-item col-6 col-md-auto p-3">
						<a href="https://www.github.com/gemartin99/ft_transcendence" target="_blank" class="text-light text-decoration-none">
						<i class="fab fa-github fs-5"></i>
						<small class="d-md-none ms-2">GitHub</small>
						</a> 
					</li>
					<li class="nav-item col-6 col-md-auto p-3">
						<a href="https://www.instagram.com/crazypong" target="_blank" class="text-light text-decoration-none">
						<i class="fab fa-instagram fs-5"></i>
						<small class="d-md-none ms-2">Instagram</small>
						</a>
					</li>
				</ul>
				<hr class="d-md-none text-white-50">
				<!--boton Cuenta -->

				<div class="dropdown">
					<button id="lang-selector" class="btn btn-warning  btn-sm dropbtn">Language <i class="fas fa-caret-down"></i></button>
					<div class="dropdown-content">
						<a onclick="set_english_lang()"><img src="/imgs/en.png" alt="United Kingdom" style="color: white !important; max-width: 20px;margin-right: 10px;"><span id="lang-en">English</span></a>
						<a onclick="set_spanish_lang()"><img src="/imgs/esp.png" alt="Spain" style="color: white !important; max-width: 20px;margin-right: 10px;"><span id="lang-es">Spanish</span></a>
						<a onclick="set_portuguese_lang()"><img src="/imgs/por.png" alt="Portugal" style="color: white !important; max-width: 20px;margin-right: 10px;"><span id="lang-pt">Portuguese</span></a>
					</div>
					<input type="hidden" id="lang_selected" name="lang_selected" value="en">
				</div>


				<hr class="d-md-none text-white-50">

				<a href="/profile" class="navlink li btn btn-sm btn-outline-warning d-md-inline-block" style="margin: 5px 5px;">Profile</a>
				<a href="/users/logout" class="navlink li btn btn-sm btn-outline-warning d-md-inline-block" onclick="set_logged_out_view()" style="margin: 5px 5px;">Logout</a>
				<a href="/users/register" class="navlink lo btn btn-sm btn-warning d-md-inline-block" style="margin: 5px 5px;">Register</a>
				<a href="/users/login" class="navlink lo btn btn-sm btn-warning d-md-inline-block" style="margin: 5px 5px;">Login</a>
			</div>
		</div>  
	</nav>
	<!-- END HEADER -->
	<!-- CONTENT -->
	<div id="content">
		<section class="section pb-0">
			<div class="video-container">
				<div class="black-overlay">
				  <video autoplay muted loop>
					<source src="/imgs/game_video.mov" type="video/mp4">
				  </video>
				</div>
				<div class="content">
				  <div class="title" style="margin-top: 30px;">
					<i class="fa-solid fa-table-tennis-paddle-ball" style="color: #f5c344;"></i>
					Crazy Pong
					<i class="fa-solid fa-table-tennis-paddle-ball" style="color: #f5c344;"></i>
				  </div>
				  <p class="text-below" style="font-size: 25px;">Crazy Pong is a tribute to the classic Atari Pong game. This version takes the original game and adds new modes such as tournaments or multiplayer. The user interface has also been updated to give it a more modern look. Whether you are a fan of the original Pong or are looking for a fun and challenging game, Crazy Pong will provide you with hours of entertainment. Try it now and see if you have what it takes to beat the high score. Register or login and start playing!</p>
				  <br>
				  <div class="options">
                    <a href="/users/register" class="navlink" >Register</a>
                    <a href="https://api.intra.42.fr/oauth/authorize?client_id=u-s4t2ud-2c2ec0c7f84e7050052f58ecb3b512a3e2182827b1fa480faece0ffed304acc0&redirect_uri=https%3A%2F%2Fcrazy-pong.com&response_type=code" class="navlink">Login 42</a>
                    <a href="/users/login" class="navlink" >Login</a>
                  </div>
			  </div>
		</section>
	</div>
	<!-- END CONTENT -->
	<!-- FOOTER -->
	<!--
	<footer class="footer fixed-bottom bg-dark text-white text-center">
        <div class="container text-warning">
            <p>&copy; 2023 CrazyPong. All rights reserved.</p>
        </div>
    </footer>

-->

    <footer class="footer fixed-bottom bg-dark text-white text-center">
		<div class="container">

			<!-- DEBUGING SHOW ONLINE -->

            <button  id="showonline">ShowOnlineUsers</button>

			<script>
			  const showonline = document.getElementById('showonline');

			  showonline.addEventListener('click', function() {
			    console.log('Trying to print online users.');

			    fetch("https://crazy-pong.com:8000/users/showonline/", {
			    	credentials: 'include',
			    })
			      .then(response => response.json())
			      .then(data => {
			        console.log('Response from backend:', data);
			        const username = document.cookie.split('; ').find(row => row.startsWith('jwttoken=')).split('=')[1];
					console.log(username);

			        if (data.content) {
			          console.log(data.content);
			        } else {
			          console.log('Invalid response from backend');
			        }
			      })
			      .catch(error => {
			        console.error('Error:', error);
			      });
			  });
			</script>
			<!-- END DEBUGING SHOW ONLINE -->

			<p id="copyright">&copy; 2023 CrazyPong. All rights reserved.</p>
		</div>
 	
	 	<!-- 2FA GOOGLE QR -->
<!-- 	  <h2>Enable Two-Factor Authentication</h2>
	    <button id="getQR"  onclick="getQR()">getQR</button>
	    <p>Scan the QR code below using the Google Authenticator app:</p>
	    <canvas id="QRimg"></canvas>
	    <img id ="QRimg" alt="QR Code">
	    <p>Or enter the following key manually: {{ request.user.totp_secret }}</p>
		<form id="textForm" onsubmit="checkAuthCode(event)">
		    <label for="textInput">Enter Text:</label>
		    <input type="text" id="textInput" name="text" required>
		    <button type="submit">check code</button>
		</form>
		<div>
	        <p id="responseMessage"></p>
	    </div> -->
	 	<!-- 2FA GOOGLE QR -->
	    
 	</footer>

	<!-- END FOOTER -->
	<script src="https://cdn.jsdelivr.net/npm/qrious@4.0.2/dist/qrious.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
	<script src="/js/twoFA.js"></script>
	<script src="/js/langs.js"></script>
	<script src="/js/aboutus.js"></script>
	<script src="/js/game.js"></script>
	<script src="/js/navigation.js"></script>
	<script src="/js/accounts.js"></script>
	<script src="/js/validations.js"></script>
	<script src="/js/session.js"></script>
	<script src="/js/profile.js"></script>
	<script src="/js/tournament.js"></script>
	<script src="/js/friends.js"></script>
	<script src="/js/42log.js"></script>
	<script src="/js/information.js"></script>
</html>


