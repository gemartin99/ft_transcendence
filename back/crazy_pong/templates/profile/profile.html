<section class="section">
  <div class="container">
    <div class="row">
      <div class="col-md-4">
        <div class="card">
          <div class="card-body profile-card" *ngIf="user">
            <div class="text-center">
              <img class="rounded-circle" [src]="user.avatar ? 'http://crazy-pong.com:3000/avatar/' + user.avatar : 'assets/avatar.jpg'" alt="User Avatar">
            </div>
            <h4 class="card-title text-center">{{user.name}}</h4>
            <div class="content">
              <p>Rank Position: {{userRank}}</p>
              <p>Player Score: {{user.score}}</p>
              <p>Played Games: {{user.played}}</p>
              <p>Total Wins: {{user.wins}}</p>
              <p>Total Losses: {{user.losses}}</p>
            </div>
            <a class="navlink btn btn-primary" href="/profile/edit" title="Edit Profile"><i class="fas fa-user-gear"></i></a>
            <a class="navlink btn btn-danger" href="/profile/twofactor" title="Security"><i class="fas fa-user-lock"></i></a>
            <a class="btn btn-info" href="/game/settings" title="Game Settings"><i class="fas fa-gamepad"></i></a>
          </div>
        </div>
      </div>
      <div class="col-md-8">
        <div class="card" *ngIf="archivements?.length !== 0">
          <div class="card-body">
            <h5 class="card-title">Achievements</h5>
            <div class="row">
              <div class="col-md-2" *ngIf="archivements?.includes(1)">
                <div class="achievement">
                  <img src="/assets/archivement1.png" class="achievements" title="You played your first match" alt="Achievement 1">
                </div>
              </div>
              <!-- Add more columns for each achievement -->
            </div>
          </div>
        </div>
        <div class="card" *ngIf="archivements?.length === 0">
          <div class="card-body">
            <h5 class="card-title">Achievements</h5>
            <p>No achievements won yet</p>
          </div>
        </div>
        <br><br>
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Played Matches History</h5>
            <table class="table">
              <thead>
                <tr>
                  <th>Match #</th>
                  <th>Player1</th>
                  <th>Player2</th>
                  <th>Score 1</th>
                  <th>Score 2</th>
                  <th>Winner</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let match of userMatches">
                  <td>{{match.id}}</td>
                  <td>{{match.player1.name}}</td>
                  <td>{{match.player2.name}}</td>
                  <td>{{match.player1Score}}</td>
                  <td>{{match.player2Score}}</td>
                  <td>
                    match.winner === 0 ? '-' : match.winner == match.player1.id ? match.player1.name : match.player2.name
                  </td>
                  <td>
                    <ng-container *ngIf="match.status === 0">
                      <a routerLink="/game/match/{{match.id}}">In play</a>
                    </ng-container>
                    <ng-container *ngIf="match.status === 1">
                      Finished
                    </ng-container>
                  </td>
                </tr>
                <!-- Add more rows for the remaining matches -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>