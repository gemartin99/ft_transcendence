<section class="section">
  <div class="container">
    <h1 class="title">Security Settings</h1>
    <div class="card">
      <div class="card-body">
        {% if twoFactorActivated %}
          <p>Two factor activated</p>
          <div class="form-group">
            <button onclick="unsetTwoFactor()" class="btn btn-primary">Disable Two Factor Auth</button>
          </div>
        {% else %}
          <p>Two factor deactivated</p>
          <!-- Uncomment the following lines when needed -->
          <!--
          <button onclick="generateTwoFactor()">Generate Two Factor</button>
          <div *ngIf="twoFactorSecret">{{ twoFactorSecret }}</div>
          -->
          <div class="form-group">
            <div class="alert alert-info">
              To use two-factor authentication, download the Google Authenticator App. Scan the QR code and submit the code generated by the app in the form.
            </div>
            <div class="control" *ngIf="steep1">
              <label class="label">Click to generate QR:</label>
              <button onclick="generateTwoFactor()" class="btn btn-primary">Generate QR</button>
            </div>
            <div *ngIf="!steep1">
              <label class="label">Scan Google Auth QR:</label>
              <div id="QR"></div>
              <label class="label">Confirm the code:</label>
              <div class="control">
                <input type="text" name="code" placeholder="Enter Code" class="form-control" required>
                <div *ngIf="input_error" class="help is-danger">{{ input_error }}</div>
              </div>
              <div class="form-group verify">
                <button onclick="verifyTwoFactor()" class="btn btn-primary">Verify Two Factor</button>
              </div>
            </div>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</section>